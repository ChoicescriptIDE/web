/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var w=["vs/code/browser/workbench/workbench","require","exports","vs/base/browser/browser","vs/base/common/marshalling","vs/base/common/event","vs/base/common/lifecycle","vs/base/common/network","vs/base/common/resources","vs/base/common/uri","vs/platform/product/common/product","vs/platform/window/common/window","vs/workbench/workbench.web.main","vs/base/common/path","vs/base/common/strings"],v=function(b){for(var l=[],h=0,y=b.length;h<y;h++)l[h]=w[b[h]];return l};define(w[0],v([1,2,3,4,5,6,7,8,9,10,11,12,13,14]),function(b,l,h,y,U,S,d,g,o,$,n,I,u,k){"use strict";Object.defineProperty(l,"__esModule",{value:!0});class f{static{this.a="secrets.provider"}constructor(){this.type="persisted";let e;const t=document.getElementById("vscode-workbench-auth-session"),s=t?t.getAttribute("data-settings"):void 0;if(s)try{e=JSON.parse(s)}catch{}if(e){if(this.set(`${$.default.urlProtocol}.loginAccount`,JSON.stringify(e)),e.providerId!=="github"){console.error(`Unexpected auth provider: ${e.providerId}. Expected 'github'.`);return}const r=JSON.stringify({extensionId:"vscode.github-authentication",key:"github.auth"});this.set(r,JSON.stringify(e.scopes.map(c=>({id:e.id,scopes:c,accessToken:e.accessToken}))))}}get(e){return Promise.resolve(this.c[e])}set(e,t){return this.c[e]=t,this.d(),Promise.resolve()}async delete(e){return delete this.c[e],this.d(),Promise.resolve()}get c(){if(!this.b){try{const e=window.localStorage.getItem(f.a);e&&(this.b=JSON.parse(e))}catch{}this.b instanceof Object||(this.b={})}return this.b}d(){window.localStorage.setItem(f.a,JSON.stringify(this.c))}}class m extends S.$lb{static{this.a=0}static{this.b=["scheme","authority","path","query","fragment"]}constructor(e){super(),this.j=e,this.c=this.B(new U.$8c),this.onCallback=this.c.event,this.f=new Set,this.g=Date.now(),this.h=void 0}create(e={}){const t=++m.a,s=[`vscode-reqid=${t}`];for(const r of m.b){const c=e[r];c&&s.push(`vscode-${r}=${encodeURIComponent(c)}`)}if(!(e.authority==="vscode.github-authentication"&&e.path==="/dummy")){const r=`vscode-web.url-callbacks[${t}]`;window.localStorage.removeItem(r),this.f.add(t),this.k()}return o.URI.parse(window.location.href).with({path:this.j,query:s.join("&")})}k(){if(this.i)return;const e=()=>this.m();window.addEventListener("storage",e),this.i={dispose:()=>window.removeEventListener("storage",e)}}l(){this.i?.dispose(),this.i=void 0}async m(){const e=Date.now()-this.g;e>1e3?this.n():this.h===void 0&&(this.h=setTimeout(()=>{this.h=void 0,this.n()},1e3-e))}n(){let e;for(const t of this.f){const s=`vscode-web.url-callbacks[${t}]`,r=window.localStorage.getItem(s);if(r!==null){try{this.c.fire(o.URI.revive(JSON.parse(r)))}catch(c){console.error(c)}e=e??new Set(this.f),e.delete(t),window.localStorage.removeItem(s)}}e&&(this.f=e,this.f.size===0&&this.l()),this.g=Date.now()}}class i{static{this.a="ew"}static{this.b="folder"}static{this.c="workspace"}static{this.d="payload"}static create(e){let t=!1,s,r=Object.create(null);return new URL(document.location.href).searchParams.forEach((a,R)=>{switch(R){case i.b:e.remoteAuthority&&a.startsWith(u.$0b.sep)?s={folderUri:o.URI.from({scheme:d.Schemas.vscodeRemote,path:a,authority:e.remoteAuthority})}:s={folderUri:o.URI.parse(a)},t=!0;break;case i.c:e.remoteAuthority&&a.startsWith(u.$0b.sep)?s={workspaceUri:o.URI.from({scheme:d.Schemas.vscodeRemote,path:a,authority:e.remoteAuthority})}:s={workspaceUri:o.URI.parse(a)},t=!0;break;case i.a:s=void 0,t=!0;break;case i.d:try{r=(0,y.$Tg)(a)}catch(O){console.error(O)}break}}),t||(e.folderUri?s={folderUri:o.URI.revive(e.folderUri)}:e.workspaceUri&&(s={workspaceUri:o.URI.revive(e.workspaceUri)})),new i(s,r,e)}constructor(e,t,s){this.workspace=e,this.payload=t,this.e=s,this.trusted=!0}async open(e,t){if(t?.reuse&&!t.payload&&this.h(this.workspace,e))return!0;const s=this.f(e,t);if(s){if(t?.reuse)return window.location.href=s,!0;{let r;return(0,h.$KN)()?r=window.open(s,"_blank","toolbar=no"):r=window.open(s),!!r}}return!1}f(e,t){let s;if(!e)s=`${document.location.origin}${document.location.pathname}?${i.a}=true`;else if((0,n.$zD)(e)){const r=this.g(e.folderUri);s=`${document.location.origin}${document.location.pathname}?${i.b}=${r}`}else if((0,n.$yD)(e)){const r=this.g(e.workspaceUri);s=`${document.location.origin}${document.location.pathname}?${i.c}=${r}`}return t?.payload&&(s+=`&${i.d}=${encodeURIComponent(JSON.stringify(t.payload))}`),s}g(e){return this.e.remoteAuthority&&e.scheme===d.Schemas.vscodeRemote?encodeURIComponent(`${u.$0b.sep}${(0,k.$sd)(e.path,u.$0b.sep)}`).replaceAll("%2F","/"):encodeURIComponent(e.toString(!0))}h(e,t){return!e||!t?e===t:(0,n.$zD)(e)&&(0,n.$zD)(t)?(0,g.$Yf)(e.folderUri,t.folderUri):(0,n.$yD)(e)&&(0,n.$yD)(t)?(0,g.$Yf)(e.workspaceUri,t.workspaceUri):!1}hasRemote(){if(this.workspace){if((0,n.$zD)(this.workspace))return this.workspace.folderUri.scheme===d.Schemas.vscodeRemote;if((0,n.$yD)(this.workspace))return this.workspace.workspaceUri.scheme===d.Schemas.vscodeRemote}return!0}}(function(){const p=document.getElementById("vscode-workbench-web-configuration"),e=p?p.getAttribute("data-settings"):void 0;if(!p||!e)throw new Error("Missing web configuration element");const t=JSON.parse(e);(0,I.create)(document.body,{...t,windowIndicator:t.windowIndicator??{label:"$(remote)",tooltip:`${$.default.nameShort} Web`},settingsSyncOptions:t.settingsSyncOptions?{enabled:t.settingsSyncOptions.enabled}:void 0,workspaceProvider:i.create(t),urlCallbackProvider:new m(t.callbackRoute),secretStorageProvider:t.remoteAuthority?void 0:new f})})()})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/1afcd2c22a9d0310393da8b4ffb4eeba3dfdbdc6/core/vs/code/browser/workbench/workbench.js.map

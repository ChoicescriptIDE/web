/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ie=["require","exports","vs/base/common/platform","vs/base/common/path","vs/base/common/strings","vs/base/common/extpath","vs/base/common/uri","vs/base/common/resources","vs/base/common/async","vs/base/common/glob","vs/base/common/map","vs/base/common/symbols","vs/base/common/network","vs/base/common/errors","vs/base/common/cancellation","vs/workbench/services/search/common/getFileResults","vs/workbench/services/search/common/ignoreFile","vs/base/common/types","vs/base/common/event","vs/base/common/lifecycle","vs/base/common/arrays","vs/editor/common/core/range","vs/workbench/services/search/worker/localFileSearch"],se=function(x){for(var e=[],A=0,j=x.length;A<j;A++)e[A]=ie[x[A]];return e};define(ie[10],se([0,1]),function(x,e){"use strict";var A,j,M;Object.defineProperty(e,"__esModule",{value:!0}),e.$ni=e.$mi=e.$li=e.Touch=e.$ki=e.$ji=e.$ii=e.$hi=e.$gi=void 0;function k(u,n,a){let $=u.get(n);return $===void 0&&($=a,u.set(n,$)),$}e.$gi=k;function y(u){const n=[];return u.forEach((a,$)=>{n.push(`${$} => ${a}`)}),`Map(${u.size}) {${n.join(", ")}}`}e.$hi=y;function C(u){const n=[];return u.forEach(a=>{n.push(a)}),`Set(${u.size}) {${n.join(", ")}}`}e.$ii=C;class B{constructor(n,a){this.uri=n,this.value=a}}class b{static{this.a=n=>n.toString()}constructor(n,a){this[A]="ResourceMap",n instanceof b?(this.b=new Map(n.b),this.c=a??b.a):(this.b=new Map,this.c=n??b.a)}set(n,a){return this.b.set(this.c(n),new B(n,a)),this}get(n){return this.b.get(this.c(n))?.value}has(n){return this.b.has(this.c(n))}get size(){return this.b.size}clear(){this.b.clear()}delete(n){return this.b.delete(this.c(n))}forEach(n,a){typeof a<"u"&&(n=n.bind(a));for(const[$,o]of this.b)n(o.value,o.uri,this)}*values(){for(const n of this.b.values())yield n.value}*keys(){for(const n of this.b.values())yield n.uri}*entries(){for(const n of this.b.values())yield[n.uri,n.value]}*[(A=Symbol.toStringTag,Symbol.iterator)](){for(const[,n]of this.b)yield[n.uri,n.value]}}e.$ji=b;class v{constructor(n,a){this[j]="ResourceSet",!n||typeof n=="function"?this.a=new b(n):(this.a=new b(a),n.forEach(this.add,this))}get size(){return this.a.size}add(n){return this.a.set(n,n),this}clear(){this.a.clear()}delete(n){return this.a.delete(n)}forEach(n,a){this.a.forEach(($,o)=>n.call(a,o,o,this))}has(n){return this.a.has(n)}entries(){return this.a.entries()}keys(){return this.a.keys()}values(){return this.a.keys()}[(j=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}e.$ki=v;var L;(function(u){u[u.None=0]="None",u[u.AsOld=1]="AsOld",u[u.AsNew=2]="AsNew"})(L||(e.Touch=L={}));class z{constructor(){this[M]="LinkedMap",this.a=new Map,this.b=void 0,this.c=void 0,this.d=0,this.e=0}clear(){this.a.clear(),this.b=void 0,this.c=void 0,this.d=0,this.e++}isEmpty(){return!this.b&&!this.c}get size(){return this.d}get first(){return this.b?.value}get last(){return this.c?.value}has(n){return this.a.has(n)}get(n,a=0){const $=this.a.get(n);if($)return a!==0&&this.j($,a),$.value}set(n,a,$=0){let o=this.a.get(n);if(o)o.value=a,$!==0&&this.j(o,$);else{switch(o={key:n,value:a,next:void 0,previous:void 0},$){case 0:this.h(o);break;case 1:this.g(o);break;case 2:this.h(o);break;default:this.h(o);break}this.a.set(n,o),this.d++}return this}delete(n){return!!this.remove(n)}remove(n){const a=this.a.get(n);if(a)return this.a.delete(n),this.i(a),this.d--,a.value}shift(){if(!this.b&&!this.c)return;if(!this.b||!this.c)throw new Error("Invalid list");const n=this.b;return this.a.delete(n.key),this.i(n),this.d--,n.value}forEach(n,a){const $=this.e;let o=this.b;for(;o;){if(a?n.bind(a)(o.value,o.key,this):n(o.value,o.key,this),this.e!==$)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){const n=this,a=this.e;let $=this.b;const o={[Symbol.iterator](){return o},next(){if(n.e!==a)throw new Error("LinkedMap got modified during iteration.");if($){const U={value:$.key,done:!1};return $=$.next,U}else return{value:void 0,done:!0}}};return o}values(){const n=this,a=this.e;let $=this.b;const o={[Symbol.iterator](){return o},next(){if(n.e!==a)throw new Error("LinkedMap got modified during iteration.");if($){const U={value:$.value,done:!1};return $=$.next,U}else return{value:void 0,done:!0}}};return o}entries(){const n=this,a=this.e;let $=this.b;const o={[Symbol.iterator](){return o},next(){if(n.e!==a)throw new Error("LinkedMap got modified during iteration.");if($){const U={value:[$.key,$.value],done:!1};return $=$.next,U}else return{value:void 0,done:!0}}};return o}[(M=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}f(n){if(n>=this.size)return;if(n===0){this.clear();return}let a=this.b,$=this.size;for(;a&&$>n;)this.a.delete(a.key),a=a.next,$--;this.b=a,this.d=$,a&&(a.previous=void 0),this.e++}g(n){if(!this.b&&!this.c)this.c=n;else if(this.b)n.next=this.b,this.b.previous=n;else throw new Error("Invalid list");this.b=n,this.e++}h(n){if(!this.b&&!this.c)this.b=n;else if(this.c)n.previous=this.c,this.c.next=n;else throw new Error("Invalid list");this.c=n,this.e++}i(n){if(n===this.b&&n===this.c)this.b=void 0,this.c=void 0;else if(n===this.b){if(!n.next)throw new Error("Invalid list");n.next.previous=void 0,this.b=n.next}else if(n===this.c){if(!n.previous)throw new Error("Invalid list");n.previous.next=void 0,this.c=n.previous}else{const a=n.next,$=n.previous;if(!a||!$)throw new Error("Invalid list");a.previous=$,$.next=a}n.next=void 0,n.previous=void 0,this.e++}j(n,a){if(!this.b||!this.c)throw new Error("Invalid list");if(!(a!==1&&a!==2)){if(a===1){if(n===this.b)return;const $=n.next,o=n.previous;n===this.c?(o.next=void 0,this.c=o):($.previous=o,o.next=$),n.previous=void 0,n.next=this.b,this.b.previous=n,this.b=n,this.e++}else if(a===2){if(n===this.c)return;const $=n.next,o=n.previous;n===this.b?($.previous=void 0,this.b=$):($.previous=o,o.next=$),n.next=void 0,n.previous=this.c,this.c.next=n,this.c=n,this.e++}}}toJSON(){const n=[];return this.forEach((a,$)=>{n.push([$,a])}),n}fromJSON(n){this.clear();for(const[a,$]of n)this.set(a,$)}}e.$li=z;class D extends z{constructor(n,a=1){super(),this.k=n,this.l=Math.min(Math.max(0,a),1)}get limit(){return this.k}set limit(n){this.k=n,this.m()}get ratio(){return this.l}set ratio(n){this.l=Math.min(Math.max(0,n),1),this.m()}get(n,a=2){return super.get(n,a)}peek(n){return super.get(n,0)}set(n,a){return super.set(n,a,2),this.m(),this}m(){this.size>this.k&&this.f(Math.round(this.k*this.l))}}e.$mi=D;class s{constructor(){this.a=new Map}add(n){return this.a.set(n,(this.a.get(n)||0)+1),this}delete(n){let a=this.a.get(n)||0;return a===0?!1:(a--,a===0?this.a.delete(n):this.a.set(n,a),!0)}has(n){return this.a.has(n)}}e.$ni=s}),define(ie[11],se([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$5c=void 0,e.$5c=Symbol("MicrotaskDelay")}),define(ie[5],se([0,1,3,2,4,17]),function(x,e,A,j,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Oe=e.$Ne=e.$Me=e.$Le=e.$Ke=e.$Je=e.$Ie=e.$He=e.$Ge=e.$Fe=e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=e.$ze=void 0;function y(r){return r===47||r===92}e.$ze=y;function C(r){return r.replace(/[\\/]/g,A.$0b.sep)}e.$Ae=C;function B(r){return r.indexOf("/")===-1&&(r=C(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}e.$Be=B;function b(r,g=A.$0b.sep){if(!r)return"";const S=r.length,F=r.charCodeAt(0);if(y(F)){if(y(r.charCodeAt(1))&&!y(r.charCodeAt(2))){let N=3;const Z=N;for(;N<S&&!y(r.charCodeAt(N));N++);if(Z!==N&&!y(r.charCodeAt(N+1))){for(N+=1;N<S;N++)if(y(r.charCodeAt(N)))return r.slice(0,N+1).replace(/[\\/]/g,g)}}return g}else if(a(F)&&r.charCodeAt(1)===58)return y(r.charCodeAt(2))?r.slice(0,2)+g:r.slice(0,2);let H=r.indexOf("://");if(H!==-1){for(H+=3;H<S;H++)if(y(r.charCodeAt(H)))return r.slice(0,H+1)}return""}e.$Ce=b;function v(r){if(!j.$i||!r||r.length<5)return!1;let g=r.charCodeAt(0);if(g!==92||(g=r.charCodeAt(1),g!==92))return!1;let S=2;const F=S;for(;S<r.length&&(g=r.charCodeAt(S),g!==92);S++);return!(F===S||(g=r.charCodeAt(S+1),isNaN(g)||g===92))}e.$De=v;const L=/[\\/:\*\?"<>\|]/g,z=/[\\/]/g,D=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function s(r,g=j.$i){const S=g?L:z;return!(!r||r.length===0||/^\s+$/.test(r)||(S.lastIndex=0,S.test(r))||g&&D.test(r)||r==="."||r===".."||g&&r[r.length-1]==="."||g&&r.length!==r.trim().length||r.length>255)}e.$Ee=s;function u(r,g,S){const F=r===g;return!S||F?F:!r||!g?!1:(0,M.$Kd)(r,g)}e.$Fe=u;function n(r,g,S,F=A.sep){if(r===g)return!0;if(!r||!g||g.length>r.length)return!1;if(S){if(!(0,M.$Ld)(r,g))return!1;if(g.length===r.length)return!0;let N=g.length;return g.charAt(g.length-1)===F&&N--,r.charAt(N)===F}return g.charAt(g.length-1)!==F&&(g+=F),r.indexOf(g)===0}e.$Ge=n;function a(r){return r>=65&&r<=90||r>=97&&r<=122}e.$He=a;function $(r,g){return j.$i&&r.endsWith(":")&&(r+=A.sep),(0,A.$_b)(r)||(r=(0,A.$ac)(g,r)),r=(0,A.$$b)(r),j.$i?(r=(0,M.$td)(r,A.sep),r.endsWith(":")&&(r+=A.sep)):(r=(0,M.$td)(r,A.sep),r||(r=A.sep)),r}e.$Ie=$;function o(r){const g=(0,A.$$b)(r);return j.$i?r.length>3?!1:U(g)&&(r.length===2||g.charCodeAt(2)===92):g===A.$0b.sep}e.$Je=o;function U(r,g=j.$i){return g?a(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}e.$Ke=U;function p(r,g=j.$i){return U(r,g)?r[0]:void 0}e.$Le=p;function T(r,g,S){return g.length>r.length?-1:r===g?0:(S&&(r=r.toLowerCase(),g=g.toLowerCase()),r.indexOf(g))}e.$Me=T;function V(r){const g=r.split(":");let S,F,H;for(const N of g){const Z=Number(N);(0,k.$le)(Z)?F===void 0?F=Z:H===void 0&&(H=Z):S=S?[S,N].join(":"):N}if(!S)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:S,line:F!==void 0?F:void 0,column:H!==void 0?H:F!==void 0?1:void 0}}e.$Ne=V;const O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",G="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function X(r,g,S=8){let F="";for(let N=0;N<S;N++){let Z;N===0&&j.$i&&!g&&(S===3||S===4)?Z=G:Z=O,F+=Z.charAt(Math.floor(Math.random()*Z.length))}let H;return g?H=`${g}-${F}`:H=F,r?(0,A.$ac)(r,H):H}e.$Oe=X}),define(ie[12],se([0,1,13,2,6]),function(x,e,A,j,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$Ze=e.$Ye=e.$Xe=e.$We=e.$Ve=e.$Ue=e.$Te=e.$Se=e.Schemas=void 0;var k;(function(b){b.inMemory="inmemory",b.vscode="vscode",b.internal="private",b.walkThrough="walkThrough",b.walkThroughSnippet="walkThroughSnippet",b.http="http",b.https="https",b.file="file",b.mailto="mailto",b.untitled="untitled",b.data="data",b.command="command",b.vscodeRemote="vscode-remote",b.vscodeRemoteResource="vscode-remote-resource",b.vscodeManagedRemoteResource="vscode-managed-remote-resource",b.vscodeUserData="vscode-userdata",b.vscodeCustomEditor="vscode-custom-editor",b.vscodeNotebookCell="vscode-notebook-cell",b.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",b.vscodeNotebookCellOutput="vscode-notebook-cell-output",b.vscodeInteractiveInput="vscode-interactive-input",b.vscodeSettings="vscode-settings",b.vscodeWorkspaceTrust="vscode-workspace-trust",b.vscodeTerminal="vscode-terminal",b.vscodeChatSesssion="vscode-chat-editor",b.webviewPanel="webview-panel",b.vscodeWebview="vscode-webview",b.extension="extension",b.vscodeFileResource="vscode-file",b.tmp="tmp",b.vsls="vsls",b.vscodeSourceControl="vscode-scm"})(k||(e.Schemas=k={})),e.$Se="vscode-tkn",e.$Te="tkn";class y{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${k.vscodeRemoteResource}`}setPreferredWebSchema(v){this.d=v}setDelegate(v){this.e=v}setServerRootPath(v){this.f=`${v}/${k.vscodeRemoteResource}`}set(v,L,z){this.a[v]=L,this.b[v]=z}setConnectionToken(v,L){this.c[v]=L}getPreferredWebSchema(){return this.d}rewrite(v){if(this.e)try{return this.e(v)}catch(n){return A.$Y(n),v}const L=v.authority;let z=this.a[L];z&&z.indexOf(":")!==-1&&z.indexOf("[")===-1&&(z=`[${z}]`);const D=this.b[L],s=this.c[L];let u=`path=${encodeURIComponent(v.path)}`;return typeof s=="string"&&(u+=`&${e.$Te}=${encodeURIComponent(s)}`),M.URI.from({scheme:j.$o?this.d:k.vscodeRemoteResource,authority:`${z}:${D}`,path:this.f,query:u})}}e.$Ue=new y,e.$Ve="vs/../../extensions",e.$We="vs/../../node_modules",e.$Xe="vs/../../node_modules.asar",e.$Ye="vs/../../node_modules.asar.unpacked";class C{static{this.a="vscode-app"}asBrowserUri(v){const L=this.b(v,x);return this.uriToBrowserUri(L)}uriToBrowserUri(v){return v.scheme===k.vscodeRemote?e.$Ue.rewrite(v):v.scheme===k.file&&(j.$m||j.$p&&j.$g.origin===`${k.vscodeFileResource}://${C.a}`)?v.with({scheme:k.vscodeFileResource,authority:v.authority||C.a,query:null,fragment:null}):v}asFileUri(v){const L=this.b(v,x);return this.uriToFileUri(L)}uriToFileUri(v){return v.scheme===k.vscodeFileResource?v.with({scheme:k.file,authority:v.authority!==C.a?v.authority:null,query:null,fragment:null}):v}b(v,L){return M.URI.isUri(v)?v:M.URI.parse(L.toUrl(v))}}e.$Ze=new C;var B;(function(b){const v=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);b.CoopAndCoep=Object.freeze(v.get("3"));const L="vscode-coi";function z(s){let u;typeof s=="string"?u=new URL(s).searchParams:s instanceof URL?u=s.searchParams:M.URI.isUri(s)&&(u=new URL(s.toString(!0)).searchParams);const n=u?.get(L);if(n)return v.get(n)}b.getHeadersFromQuery=z;function D(s,u,n){if(!globalThis.crossOriginIsolated)return;const a=u&&n?"3":n?"2":"1";s instanceof URLSearchParams?s.set(L,a):s[L]=a}b.addSearchParam=D})(B||(e.COI=B={}))}),define(ie[7],se([0,1,5,12,3,2,4,6]),function(x,e,A,j,M,k,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dg=e.DataUri=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=e.$8f=e.$7f=e.$6f=e.$5f=e.$4f=e.$3f=e.$2f=e.$1f=e.$Zf=e.$Yf=e.$Xf=e.$Wf=e.$Vf=e.$Uf=e.$Tf=void 0;function B(D){return(0,C.$Re)(D,!0)}e.$Tf=B;class b{constructor(s){this.a=s}compare(s,u,n=!1){return s===u?0:(0,y.$Dd)(this.getComparisonKey(s,n),this.getComparisonKey(u,n))}isEqual(s,u,n=!1){return s===u?!0:!s||!u?!1:this.getComparisonKey(s,n)===this.getComparisonKey(u,n)}getComparisonKey(s,u=!1){return s.with({path:this.a(s)?s.path.toLowerCase():void 0,fragment:u?null:void 0}).toString()}ignorePathCasing(s){return this.a(s)}isEqualOrParent(s,u,n=!1){if(s.scheme===u.scheme){if(s.scheme===j.Schemas.file)return A.$Ge(B(s),B(u),this.a(s))&&s.query===u.query&&(n||s.fragment===u.fragment);if((0,e.$$f)(s.authority,u.authority))return A.$Ge(s.path,u.path,this.a(s),"/")&&s.query===u.query&&(n||s.fragment===u.fragment)}return!1}joinPath(s,...u){return C.URI.joinPath(s,...u)}basenameOrAuthority(s){return(0,e.$3f)(s)||s.authority}basename(s){return M.$0b.basename(s.path)}extname(s){return M.$0b.extname(s.path)}dirname(s){if(s.path.length===0)return s;let u;return s.scheme===j.Schemas.file?u=C.URI.file(M.$dc(B(s))).path:(u=M.$0b.dirname(s.path),s.authority&&u.length&&u.charCodeAt(0)!==47&&(console.error(`dirname("${s.toString})) resulted in a relative path`),u="/")),s.with({path:u})}normalizePath(s){if(!s.path.length)return s;let u;return s.scheme===j.Schemas.file?u=C.URI.file(M.$$b(B(s))).path:u=M.$0b.normalize(s.path),s.with({path:u})}relativePath(s,u){if(s.scheme!==u.scheme||!(0,e.$$f)(s.authority,u.authority))return;if(s.scheme===j.Schemas.file){const $=M.$cc(B(s),B(u));return k.$i?A.$Ae($):$}let n=s.path||"/";const a=u.path||"/";if(this.a(s)){let $=0;for(const o=Math.min(n.length,a.length);$<o&&!(n.charCodeAt($)!==a.charCodeAt($)&&n.charAt($).toLowerCase()!==a.charAt($).toLowerCase());$++);n=a.substr(0,$)+n.substr($)}return M.$0b.relative(n,a)}resolvePath(s,u){if(s.scheme===j.Schemas.file){const n=C.URI.file(M.$bc(B(s),u));return s.with({authority:n.authority,path:n.path})}return u=A.$Be(u),s.with({path:M.$0b.resolve(s.path,u)})}isAbsolutePath(s){return!!s.path&&s.path[0]==="/"}isEqualAuthority(s,u){return s===u||s!==void 0&&u!==void 0&&(0,y.$Kd)(s,u)}hasTrailingPathSeparator(s,u=M.sep){if(s.scheme===j.Schemas.file){const n=B(s);return n.length>A.$Ce(n).length&&n[n.length-1]===u}else{const n=s.path;return n.length>1&&n.charCodeAt(n.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(s.fsPath)}}removeTrailingPathSeparator(s,u=M.sep){return(0,e.$_f)(s,u)?s.with({path:s.path.substr(0,s.path.length-1)}):s}addTrailingPathSeparator(s,u=M.sep){let n=!1;if(s.scheme===j.Schemas.file){const a=B(s);n=a!==void 0&&a.length===A.$Ce(a).length&&a[a.length-1]===u}else{u="/";const a=s.path;n=a.length===1&&a.charCodeAt(a.length-1)===47}return!n&&!(0,e.$_f)(s,u)?s.with({path:s.path+"/"}):s}}e.$Uf=b,e.$Vf=new b(()=>!1),e.$Wf=new b(D=>D.scheme===j.Schemas.file?!k.$k:!0),e.$Xf=new b(D=>!0),e.$Yf=e.$Vf.isEqual.bind(e.$Vf),e.$Zf=e.$Vf.isEqualOrParent.bind(e.$Vf),e.$1f=e.$Vf.getComparisonKey.bind(e.$Vf),e.$2f=e.$Vf.basenameOrAuthority.bind(e.$Vf),e.$3f=e.$Vf.basename.bind(e.$Vf),e.$4f=e.$Vf.extname.bind(e.$Vf),e.$5f=e.$Vf.dirname.bind(e.$Vf),e.$6f=e.$Vf.joinPath.bind(e.$Vf),e.$7f=e.$Vf.normalizePath.bind(e.$Vf),e.$8f=e.$Vf.relativePath.bind(e.$Vf),e.$9f=e.$Vf.resolvePath.bind(e.$Vf),e.$0f=e.$Vf.isAbsolutePath.bind(e.$Vf),e.$$f=e.$Vf.isEqualAuthority.bind(e.$Vf),e.$_f=e.$Vf.hasTrailingPathSeparator.bind(e.$Vf),e.$ag=e.$Vf.removeTrailingPathSeparator.bind(e.$Vf),e.$bg=e.$Vf.addTrailingPathSeparator.bind(e.$Vf);function v(D,s){const u=[];for(let n=0;n<D.length;n++){const a=s(D[n]);D.some(($,o)=>o===n?!1:(0,e.$Zf)(a,s($)))||u.push(D[n])}return u}e.$cg=v;var L;(function(D){D.META_DATA_LABEL="label",D.META_DATA_DESCRIPTION="description",D.META_DATA_SIZE="size",D.META_DATA_MIME="mime";function s(u){const n=new Map;u.path.substring(u.path.indexOf(";")+1,u.path.lastIndexOf(";")).split(";").forEach(o=>{const[U,p]=o.split(":");U&&p&&n.set(U,p)});const $=u.path.substring(0,u.path.indexOf(";"));return $&&n.set(D.META_DATA_MIME,$),n}D.parseMetaData=s})(L||(e.DataUri=L={}));function z(D,s,u){if(s){let n=D.path;return n&&n[0]!==M.$0b.sep&&(n=M.$0b.sep+n),D.with({scheme:u,authority:s,path:n})}return D.with({scheme:u})}e.$dg=z}),define(ie[8],se([0,1,14,13,18,19,7,2,11]),function(x,e,A,j,M,k,y,C,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Og=e.$Ng=e.$Mg=e.Promises=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=e.$Gg=e.$Fg=e.$Eg=e.$Dg=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=e.$wg=e.$vg=e.$ug=e.$tg=e.$sg=e.$rg=e.$qg=e.$pg=e.$og=e.$ng=e.$mg=e.$lg=e.$kg=e.$jg=e.$ig=e.$hg=e.$gg=e.$fg=e.$eg=void 0;function b(l){return!!l&&typeof l.then=="function"}e.$eg=b;function v(l){const t=new A.$ed,i=l(t.token),c=new Promise((d,I)=>{const Q=t.token.onCancellationRequested(()=>{Q.dispose(),t.dispose(),I(new j.$3)});Promise.resolve(i).then(J=>{Q.dispose(),t.dispose(),d(J)},J=>{Q.dispose(),t.dispose(),I(J)})});return new class{cancel(){t.cancel()}then(d,I){return c.then(d,I)}catch(d){return this.then(void 0,d)}finally(d){return c.finally(d)}}}e.$fg=v;function L(l,t,i){return new Promise((c,d)=>{const I=t.onCancellationRequested(()=>{I.dispose(),c(i)});l.then(c,d).finally(()=>I.dispose())})}e.$gg=L;function z(l,t){return new Promise((i,c)=>{const d=t.onCancellationRequested(()=>{d.dispose(),c(new j.$3)});l.then(i,c).finally(()=>d.dispose())})}e.$hg=z;async function D(l){let t=-1;const i=l.map((c,d)=>c.then(I=>(t=d,I)));try{return await Promise.race(i)}finally{l.forEach((c,d)=>{d!==t&&c.cancel()})}}e.$ig=D;function s(l,t,i){let c;const d=setTimeout(()=>{c?.(void 0),i?.()},t);return Promise.race([l.finally(()=>clearTimeout(d)),new Promise(I=>c=I)])}e.$jg=s;function u(l){return new Promise((t,i)=>{const c=l();b(c)?c.then(t,i):t(c)})}e.$kg=u;class n{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(t){if(this.f)throw new Error("Throttler is disposed");if(this.a){if(this.d=t,!this.b){const i=()=>{if(this.b=null,this.f)return;const c=this.queue(this.d);return this.d=null,c};this.b=new Promise(c=>{this.a.then(i,i).then(c)})}return new Promise((i,c)=>{this.b.then(i,c)})}return this.a=t(),new Promise((i,c)=>{this.a.then(d=>{this.a=null,i(d)},d=>{this.a=null,c(d)})})}dispose(){this.f=!0}}e.$lg=n;class a{constructor(){this.a=Promise.resolve(null)}queue(t){return this.a=this.a.then(()=>t(),()=>t())}}e.$mg=a;class ${constructor(){this.a=new Map}queue(t,i){const d=(this.a.get(t)??Promise.resolve()).catch(()=>{}).then(i).finally(()=>{this.a.get(t)===d&&this.a.delete(t)});return this.a.set(t,d),d}}e.$ng=$;const o=(l,t)=>{let i=!0;const c=setTimeout(()=>{i=!1,t()},l);return{isTriggered:()=>i,dispose:()=>{clearTimeout(c),i=!1}}},U=l=>{let t=!0;return queueMicrotask(()=>{t&&(t=!1,l())}),{isTriggered:()=>t,dispose:()=>{t=!1}}};class p{constructor(t){this.defaultDelay=t,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(t,i=this.defaultDelay){this.g=t,this.h(),this.b||(this.b=new Promise((d,I)=>{this.d=d,this.f=I}).then(()=>{if(this.b=null,this.d=null,this.g){const d=this.g;return this.g=null,d()}}));const c=()=>{this.a=null,this.d?.(null)};return this.a=i===B.$5c?U(c):o(i,c),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new j.$3),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$og=p;class T{constructor(t){this.a=new p(t),this.b=new n}trigger(t,i){return this.a.trigger(()=>this.b.queue(t),i)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$pg=T;class V{constructor(){this.a=!1,this.b=new Promise((t,i)=>{this.d=t})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$qg=V;class O extends V{constructor(t){super(),this.f=setTimeout(()=>this.open(),t)}open(){clearTimeout(this.f),super.open()}}e.$rg=O;function G(l,t){return t?new Promise((i,c)=>{const d=setTimeout(()=>{I.dispose(),i()},l),I=t.onCancellationRequested(()=>{clearTimeout(d),I.dispose(),c(new j.$3)})}):v(i=>G(l,i))}e.$sg=G;function X(l,t=0){const i=setTimeout(l,t);return(0,k.$jb)(()=>clearTimeout(i))}e.$tg=X;function r(l){const t=[];let i=0;const c=l.length;function d(){return i<c?l[i++]():null}function I(Q){Q!=null&&t.push(Q);const J=d();return J?J.then(I):Promise.resolve(t)}return Promise.resolve(null).then(I)}e.$ug=r;function g(l,t=c=>!!c,i=null){let c=0;const d=l.length,I=()=>{if(c>=d)return Promise.resolve(i);const Q=l[c++];return Promise.resolve(Q()).then(le=>t(le)?Promise.resolve(le):I())};return I()}e.$vg=g;function S(l,t=c=>!!c,i=null){if(l.length===0)return Promise.resolve(i);let c=l.length;const d=()=>{c=-1;for(const I of l)I.cancel?.()};return new Promise((I,Q)=>{for(const J of l)J.then(le=>{--c>=0&&t(le)?(d(),I(le)):c===0&&I(i)}).catch(le=>{--c>=0&&(d(),Q(le))})})}e.$wg=S;class F{constructor(t){this.a=0,this.d=t,this.f=[],this.b=0,this.g=new M.$8c}get onDrained(){return this.g.event}get size(){return this.a}queue(t){return this.a++,new Promise((i,c)=>{this.f.push({factory:t,c:i,e:c}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const t=this.f.shift();this.b++;const i=t.factory();i.then(t.c,t.e),i.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}e.$xg=F;class H extends F{constructor(){super(1)}}e.$yg=H;class N{constructor(){this.a=new Map,this.b=new Set}async whenDrained(){if(this.d())return;const t=new f;return this.b.add(t),t.p}d(){for(const[,t]of this.a)if(t.size>0)return!1;return!0}queueFor(t,i=y.$Vf){const c=i.getComparisonKey(t);let d=this.a.get(c);return d||(d=new H,M.Event.once(d.onDrained)(()=>{d?.dispose(),this.a.delete(c),this.f()}),this.a.set(c,d)),d}f(){this.d()&&this.g()}g(){for(const t of this.b)t.complete();this.b.clear()}dispose(){for(const[,t]of this.a)t.dispose();this.a.clear(),this.g()}}e.$zg=N;class Z{constructor(t,i){this.a=-1,typeof t=="function"&&typeof i=="number"&&this.setIfNotSet(t,i)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(t,i){this.cancel(),this.a=setTimeout(()=>{this.a=-1,t()},i)}setIfNotSet(t,i){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,t()},i))}}e.$Ag=Z;class ne{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(t,i){this.cancel(),this.a=setInterval(()=>{t()},i)}}e.$Bg=ne;class _{constructor(t,i){this.b=-1,this.a=t,this.d=i,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(t=this.d){this.cancel(),this.b=setTimeout(this.f,t)}get delay(){return this.d}set delay(t){this.d=t}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Cg=_;class ee{constructor(t,i){i%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${i}ms is not a multiple of 1000ms.`),this.a=t,this.b=i,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(t=this.b){t%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${t}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(t/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Dg=ee;class re extends _{constructor(t,i){super(t,i),this.j=[]}work(t){this.j.push(t),this.isScheduled()||this.schedule()}h(){const t=this.j;this.j=[],this.a?.(t)}dispose(){this.j=[],super.dispose()}}e.$Eg=re;class q extends k.$lb{constructor(t,i){super(),this.g=t,this.h=i,this.a=[],this.b=this.B(new k.$mb),this.f=!1}get pending(){return this.a.length}work(t){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+t.length>this.g.maxBufferedWork)return!1}else if(this.pending+t.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const i of t)this.a.push(i);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new _(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Fg=q,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.$Gg=l=>{(0,C.$A)(()=>{if(t)return;const i=Date.now()+15;l(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:e.$Gg=(l,t)=>{const i=requestIdleCallback(l,typeof t=="number"?{timeout:t}:void 0);let c=!1;return{dispose(){c||(c=!0,cancelIdleCallback(i))}}}}();class Y{constructor(t){this.d=!1,this.a=()=>{try{this.f=t()}catch(i){this.g=i}finally{this.d=!0}},this.b=(0,e.$Gg)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}e.$Hg=Y;async function K(l,t,i){let c;for(let d=0;d<i;d++)try{return await l()}catch(I){c=I,await G(t)}throw c}e.$Ig=K;class te{hasPending(t){return this.a?typeof t=="number"?this.a.taskId===t:!!this.a:!1}get pending(){return this.a?.promise}cancelPending(){this.a?.cancel()}setPending(t,i,c){return this.a={taskId:t,cancel:()=>c?.(),promise:i},i.then(()=>this.d(t),()=>this.d(t)),i}d(t){this.a&&t===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const t=this.b;this.b=void 0,t.run().then(t.promiseResolve,t.promiseReject)}}setNext(t){if(this.b)this.b.run=t;else{let i,c;const d=new Promise((I,Q)=>{i=I,c=Q});this.b={run:t,promise:d,promiseResolve:i,promiseReject:c}}return this.b.promise}hasNext(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$Jg=te;class h{constructor(t,i=()=>Date.now()){this.d=t,this.f=i,this.a=0,this.b=0}increment(){const t=this.f();return t-this.a>this.d&&(this.a=t,this.b=0),this.b++,this.b}}e.$Kg=h;var m;(function(l){l[l.Resolved=0]="Resolved",l[l.Rejected=1]="Rejected"})(m||(m={}));class f{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((t,i)=>{this.a=t,this.b=i})}complete(t){return new Promise(i=>{this.a(t),this.d={outcome:0,value:t},i()})}error(t){return new Promise(i=>{this.b(t),this.d={outcome:1,value:t},i()})}cancel(){return this.error(new j.$3)}}e.$Lg=f;var R;(function(l){async function t(c){let d;const I=await Promise.all(c.map(Q=>Q.then(J=>J,J=>{d||(d=J)})));if(typeof d<"u")throw d;return I}l.settled=t;function i(c){return new Promise(async(d,I)=>{try{await c(d,I)}catch(Q){I(Q)}})}l.withAsyncBody=i})(R||(e.Promises=R={}));var E;(function(l){l[l.Initial=0]="Initial",l[l.DoneOK=1]="DoneOK",l[l.DoneError=2]="DoneError"})(E||(E={}));class P{static fromArray(t){return new P(i=>{i.emitMany(t)})}static fromPromise(t){return new P(async i=>{i.emitMany(await t)})}static fromPromises(t){return new P(async i=>{await Promise.all(t.map(async c=>i.emitOne(await c)))})}static merge(t){return new P(async i=>{await Promise.all(t.map(async c=>{for await(const d of c)i.emitOne(d)}))})}static{this.EMPTY=P.fromArray([])}constructor(t){this.a=0,this.b=[],this.d=null,this.f=new M.$8c,queueMicrotask(async()=>{const i={emitOne:c=>this.g(c),emitMany:c=>this.h(c),reject:c=>this.k(c)};try{await Promise.resolve(t(i)),this.j()}catch(c){this.k(c)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(t<this.b.length)return{done:!1,value:this.b[t++]};if(this.a===1)return{done:!0,value:void 0};await M.Event.toPromise(this.f.event)}while(!0)}}}static map(t,i){return new P(async c=>{for await(const d of t)c.emitOne(i(d))})}map(t){return P.map(this,t)}static filter(t,i){return new P(async c=>{for await(const d of t)i(d)&&c.emitOne(d)})}filter(t){return P.filter(this,t)}static coalesce(t){return P.filter(t,i=>!!i)}coalesce(){return P.coalesce(this)}static async toPromise(t){const i=[];for await(const c of t)i.push(c);return i}toPromise(){return P.toPromise(this)}g(t){this.a===0&&(this.b.push(t),this.f.fire())}h(t){this.a===0&&(this.b=this.b.concat(t),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(t){this.a===0&&(this.a=2,this.d=t,this.f.fire())}}e.$Mg=P;class W extends P{constructor(t,i){super(i),this.l=t}cancel(){this.l.cancel()}}e.$Ng=W;function w(l){const t=new A.$ed,i=l(t.token);return new W(t,async c=>{const d=t.token.onCancellationRequested(()=>{d.dispose(),t.dispose(),c.reject(new j.$3)});try{for await(const I of i){if(t.token.isCancellationRequested)return;c.emitOne(I)}d.dispose(),t.dispose()}catch(I){d.dispose(),t.dispose(),c.reject(I)}})}e.$Og=w}),define(ie[9],se([0,1,20,8,5,10,3,2,4]),function(x,e,A,j,M,k,y,C,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=e.$$i=e.$0i=e.$9i=e.$8i=void 0;function b(){return Object.create(null)}e.$8i=b,e.$9i="**",e.$0i="/";const v="[/\\\\]",L="[^/\\\\]",z=/\//g;function D(h,m){switch(h){case 0:return"";case 1:return`${L}*?`;default:return`(?:${v}|${L}+${v}${m?`|${v}${L}+`:""})*?`}}function s(h,m){if(!h)return[];const f=[];let R=!1,E=!1,P="";for(const W of h){switch(W){case m:if(!R&&!E){f.push(P),P="";continue}break;case"{":R=!0;break;case"}":R=!1;break;case"[":E=!0;break;case"]":E=!1;break}P+=W}return P&&f.push(P),f}e.$$i=s;function u(h){if(!h)return"";let m="";const f=s(h,e.$0i);if(f.every(R=>R===e.$9i))m=".*";else{let R=!1;f.forEach((E,P)=>{if(E===e.$9i){if(R)return;m+=D(2,P===f.length-1)}else{let W=!1,w="",l=!1,t="";for(const i of E){if(i!=="}"&&W){w+=i;continue}if(l&&(i!=="]"||!t)){let c;i==="-"?c=i:(i==="^"||i==="!")&&!t?c="^":i===e.$0i?c="":c=(0,B.$od)(i),t+=c;continue}switch(i){case"{":W=!0;continue;case"[":l=!0;continue;case"}":{const d=`(?:${s(w,",").map(I=>u(I)).join("|")})`;m+=d,W=!1,w="";break}case"]":{m+="["+t+"]",l=!1,t="";break}case"?":m+=L;continue;case"*":m+=D(1);continue;default:m+=(0,B.$od)(i)}}P<f.length-1&&(f[P+1]!==e.$9i||P+2<f.length)&&(m+=v)}R=E===e.$9i})}return m}const n=/^\*\*\/\*\.[\w\.-]+$/,a=/^\*\*\/([\w\.-]+)\/?$/,$=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,o=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,U=/^\*\*((\/[\w\.-]+)+)\/?$/,p=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,T=new k.$mi(1e4),V=function(){return!1},O=function(){return null};function G(h,m){if(!h)return O;let f;typeof h!="string"?f=h.pattern:f=h,f=f.trim();const R=`${f}_${!!m.trimForExclusions}`;let E=T.get(R);if(E)return X(E,h);let P;return n.test(f)?E=g(f.substr(4),f):(P=a.exec(r(f,m)))?E=S(P[1],f):(m.trimForExclusions?o:$).test(f)?E=F(f,m):(P=U.exec(r(f,m)))?E=H(P[1].substr(1),f,!0):(P=p.exec(r(f,m)))?E=H(P[1],f,!1):E=N(f),T.set(R,E),X(E,h)}function X(h,m){if(typeof m=="string")return h;const f=function(R,E){return(0,M.$Ge)(R,m.base,!C.$k)?h((0,B.$sd)(R.substr(m.base.length),y.sep),E):null};return f.allBasenames=h.allBasenames,f.allPaths=h.allPaths,f.basenames=h.basenames,f.patterns=h.patterns,f}function r(h,m){return m.trimForExclusions&&h.endsWith("/**")?h.substr(0,h.length-2):h}function g(h,m){return function(f,R){return typeof f=="string"&&f.endsWith(h)?m:null}}function S(h,m){const f=`/${h}`,R=`\\${h}`,E=function(W,w){return typeof W!="string"?null:w?w===h?m:null:W===h||W.endsWith(f)||W.endsWith(R)?m:null},P=[h];return E.basenames=P,E.patterns=[m],E.allBasenames=P,E}function F(h,m){const f=K(h.slice(1,-1).split(",").map(w=>G(w,m)).filter(w=>w!==O),h),R=f.length;if(!R)return O;if(R===1)return f[0];const E=function(w,l){for(let t=0,i=f.length;t<i;t++)if(f[t](w,l))return h;return null},P=f.find(w=>!!w.allBasenames);P&&(E.allBasenames=P.allBasenames);const W=f.reduce((w,l)=>l.allPaths?w.concat(l.allPaths):w,[]);return W.length&&(E.allPaths=W),E}function H(h,m,f){const R=y.sep===y.$0b.sep,E=R?h:h.replace(z,y.sep),P=y.sep+E,W=y.$0b.sep+h;let w;return f?w=function(l,t){return typeof l=="string"&&(l===E||l.endsWith(P)||!R&&(l===h||l.endsWith(W)))?m:null}:w=function(l,t){return typeof l=="string"&&(l===E||!R&&l===h)?m:null},w.allPaths=[(f?"*/":"./")+h],w}function N(h){try{const m=new RegExp(`^${u(h)}$`);return function(f){return m.lastIndex=0,typeof f=="string"&&m.test(f)?h:null}}catch{return O}}function Z(h,m,f){return!h||typeof m!="string"?!1:ne(h)(m,void 0,f)}e.$_i=Z;function ne(h,m={}){if(!h)return V;if(typeof h=="string"||_(h)){const f=G(h,m);if(f===O)return V;const R=function(E,P){return!!f(E,P)};return f.allBasenames&&(R.allBasenames=f.allBasenames),f.allPaths&&(R.allPaths=f.allPaths),R}return q(h,m)}e.$aj=ne;function _(h){const m=h;return m?typeof m.base=="string"&&typeof m.pattern=="string":!1}e.$bj=_;function ee(h){return h.allBasenames||[]}e.$cj=ee;function re(h){return h.allPaths||[]}e.$dj=re;function q(h,m){const f=K(Object.getOwnPropertyNames(h).map(w=>Y(w,h[w],m)).filter(w=>w!==O)),R=f.length;if(!R)return O;if(!f.some(w=>!!w.requiresSiblings)){if(R===1)return f[0];const w=function(i,c){let d;for(let I=0,Q=f.length;I<Q;I++){const J=f[I](i,c);if(typeof J=="string")return J;(0,j.$eg)(J)&&(d||(d=[]),d.push(J))}return d?(async()=>{for(const I of d){const Q=await I;if(typeof Q=="string")return Q}return null})():null},l=f.find(i=>!!i.allBasenames);l&&(w.allBasenames=l.allBasenames);const t=f.reduce((i,c)=>c.allPaths?i.concat(c.allPaths):i,[]);return t.length&&(w.allPaths=t),w}const E=function(w,l,t){let i,c;for(let d=0,I=f.length;d<I;d++){const Q=f[d];Q.requiresSiblings&&t&&(l||(l=(0,y.$ec)(w)),i||(i=l.substr(0,l.length-(0,y.$fc)(w).length)));const J=Q(w,l,i,t);if(typeof J=="string")return J;(0,j.$eg)(J)&&(c||(c=[]),c.push(J))}return c?(async()=>{for(const d of c){const I=await d;if(typeof I=="string")return I}return null})():null},P=f.find(w=>!!w.allBasenames);P&&(E.allBasenames=P.allBasenames);const W=f.reduce((w,l)=>l.allPaths?w.concat(l.allPaths):w,[]);return W.length&&(E.allPaths=W),E}function Y(h,m,f){if(m===!1)return O;const R=G(h,f);if(R===O)return O;if(typeof m=="boolean")return R;if(m){const E=m.when;if(typeof E=="string"){const P=(W,w,l,t)=>{if(!t||!R(W,w))return null;const i=E.replace("$(basename)",()=>l),c=t(i);return(0,j.$eg)(c)?c.then(d=>d?h:null):c?h:null};return P.requiresSiblings=!0,P}}return R}function K(h,m){const f=h.filter(w=>!!w.basenames);if(f.length<2)return h;const R=f.reduce((w,l)=>{const t=l.basenames;return t?w.concat(t):w},[]);let E;if(m){E=[];for(let w=0,l=R.length;w<l;w++)E.push(m)}else E=f.reduce((w,l)=>{const t=l.patterns;return t?w.concat(t):w},[]);const P=function(w,l){if(typeof w!="string")return null;if(!l){let i;for(i=w.length;i>0;i--){const c=w.charCodeAt(i-1);if(c===47||c===92)break}l=w.substr(i)}const t=R.indexOf(l);return t!==-1?E[t]:null};P.basenames=R,P.patterns=E,P.allBasenames=R;const W=h.filter(w=>!w.basenames);return W.push(P),W}function te(h,m){return(0,A.$0e)(h,m,(f,R)=>typeof f=="string"&&typeof R=="string"?f===R:typeof f!="string"&&typeof R!="string"?f.base===R.base&&f.pattern===R.pattern:!1)}e.$ej=te}),define(ie[15],se([0,1,21]),function(x,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pec=void 0;const j=(M,k,y)=>{let C;if(M[0]===255&&M[1]===254)C=new TextDecoder("utf-16le").decode(M);else if(M[0]===254&&M[1]===255)C=new TextDecoder("utf-16be").decode(M);else if(C=new TextDecoder("utf8").decode(M),C.slice(0,1e3).includes("\uFFFD")&&M.includes(0))return[];const B=[],b=[];let v=null,L=y.remainingResultQuota;for(;L>=0&&(v=k.exec(C));)b.push({matchStartIndex:v.index,matchedText:v[0]}),L--;if(b.length){const z=new Set,D=new Set,s=[],u=U=>C.slice(s[U].start,s[U].end);let n=0,a=null;const $=/\r?\n/g;for(;a=$.exec(C);)s.push({start:n,end:a.index}),n=a.index+a[0].length;n<C.length&&s.push({start:n,end:C.length});let o=0;for(const{matchStartIndex:U,matchedText:p}of b){if(L<0)break;for(;s[o+1]&&U>s[o].end;)o++;let T=o;for(;s[T+1]&&U+p.length>s[T].end;)T++;if(y.beforeContext)for(let g=Math.max(0,o-y.beforeContext);g<o;g++)z.add(g);let V="",O=0;for(let g=o;g<=T;g++){let S=u(g);y.previewOptions?.charsPerLine&&S.length>y.previewOptions.charsPerLine&&(O=Math.max(U-s[o].start-20,0),S=S.substr(O,y.previewOptions.charsPerLine)),V+=`${S}
`,D.add(g)}const G=new A.$Mr(o,U-s[o].start,T,U+p.length-s[T].start),X=new A.$Mr(0,U-s[o].start-O,T-o,U+p.length-s[T].start-(T===o?O:0)),r={ranges:G,preview:{text:V,matches:X}};if(B.push(r),y.afterContext)for(let g=T+1;g<=Math.min(T+y.afterContext,s.length-1);g++)z.add(g)}for(const U of z)D.has(U)||B.push({text:u(U),lineNumber:U+1})}return B};e.$pec=j}),define(ie[16],se([0,1,9]),function(x,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$HGb=void 0;class j{constructor(k,y,C){if(this.b=y,this.c=C,y[y.length-1]==="\\")throw Error("Unexpected path format, do not use trailing backslashes");y[y.length-1]!=="/"&&(y+="/"),this.a=this.e(k,this.b,this.c)}updateContents(k){this.a=this.e(k,this.b,this.c)}isPathIncludedInTraversal(k,y){if(k[0]!=="/"||k[k.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+k);return!this.a(k,y)}isArbitraryPathIgnored(k,y){if(k[0]!=="/"||k[k.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+k);const C=k.split("/").filter(v=>v);let B=!1,b="";for(let v=0;v<C.length;v++){const L=v===C.length-1,z=C[v];if(b=b+"/"+z,!this.isPathIncludedInTraversal(b,L?y:!0)){B=!0;break}}return B}d(k,y,C){const B=k.map(v=>this.f(v,y)),b=Object.create(null);for(const v of B)b[v]=!0;return A.$aj(b,{trimForExclusions:C})}e(k,y,C){const B=k.split(`
`).map(o=>o.trim()).filter(o=>o&&o[0]!=="#"),b=B.filter(o=>!o.endsWith("/")),v=b.filter(o=>!o.includes("!")),L=this.d(v,y,!0),z=b.filter(o=>o.includes("!")).map(o=>o.replace(/!/g,"")),D=this.d(z,y,!1),s=B.filter(o=>!o.includes("!")),u=this.d(s,y,!0),n=B.filter(o=>o.includes("!")).map(o=>o.replace(/!/g,"")),a=this.d(n,y,!1);return(o,U)=>o.startsWith(y)?U&&u(o)&&!a(o)||L(o)&&!D(o)?!0:C?C.a(o,U):!1:!1}f(k,y){const C=k.indexOf("/");return C===-1||C===k.length-1?k="**/"+k:(C===0?y.slice(-1)==="/"&&(k=k.slice(1)):y.slice(-1)!=="/"&&(k="/"+k),k=y+k),k}}e.$HGb=j}),define(ie[22],se([0,1,9,6,3,14,15,16,4,8,7]),function(x,e,A,j,M,k,y,C,B,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalFileSearchSimpleWorker=e.create=void 0;const L=!1,z=+new Date,D={},s=async(T,V)=>{if(!L)return V();const O=Date.now(),G=(D[T]??0)+1;console.info(T,G,"starting",Math.round((O-z)*10)/1e4),D[T]=G;const X=await V(),r=Date.now();return console.info(T,G,"took",r-O),X};function u(T){return new n(T)}e.create=u;class n{constructor(V){this.d=V,this.cancellationTokens=new Map}cancelQuery(V){this.cancellationTokens.get(V)?.cancel()}g(V){const O=new k.$ed;return this.cancellationTokens.set(V,O),O}async listDirectory(V,O,G,X,r){const g=$(G),S=new v.$Uf(()=>X),F=this.g(r),H=[];let N=!1,Z=0;const ne=O.maxResults||512,_=O.filePattern?ee=>O.filePattern.split("").every(re=>ee.includes(re)):ee=>!0;return await s("listDirectory",()=>this.h(V,o(O),g,S,ee=>{if(_(ee.name))return Z++,ne&&Z>ne&&(N=!0,F.cancel()),H.push(ee.path)},F.token)),{results:H,limitHit:N}}async searchDirectory(V,O,G,X,r){const g=$(G),S=new v.$Uf(()=>X);return s("searchInFiles",async()=>{const F=this.g(r),H=[],N=a(O.contentPattern),Z=[];let ne=0,_=0;const ee=!1,re=async q=>{if(F.token.isCancellationRequested)return;ne++;const Y=await q.resolve();if(F.token.isCancellationRequested)return;const K=new Uint8Array(Y),te=(0,y.$pec)(K,N,{afterContext:O.afterContext??0,beforeContext:O.beforeContext??0,previewOptions:O.previewOptions,remainingResultQuota:O.maxResults?O.maxResults-_:1e4});if(te.length){_+=te.length,O.maxResults&&_>O.maxResults&&F.cancel();const h={resource:j.URI.joinPath(g.folder,q.path),results:te};this.d.sendTextSearchMatch(h,r),H.push(h)}};return await s("walkFolderToResolve",()=>this.h(V,o(O),g,S,async q=>Z.push(re(q)),F.token)),await s("resolveOngoingProcesses",()=>Promise.all(Z)),L&&console.log("Searched in",ne,"files"),{results:H,limitHit:ee}})}async h(V,O,G,X,r,g){const S=A.$aj(G.excludePattern??{},{trimForExclusions:!0}),F=(q,Y,K)=>(q=q.slice(1),!!(S(q,Y,K)||U(O,q))),H=(q,Y,K)=>(q=q.slice(1),!(S(q,Y,K)||!p(O,q,X))),N=(q,Y)=>({type:"file",name:q.name,path:Y,resolve:()=>q.getFile().then(te=>te.arrayBuffer())}),Z=q=>q.kind==="directory",ne=q=>q.kind==="file",_=async(q,Y,K)=>{if(!G.disregardIgnoreFiles){const h=await Promise.all([q.getFileHandle(".gitignore").catch(m=>{}),q.getFileHandle(".ignore").catch(m=>{})]);await Promise.all(h.map(async m=>{if(!m)return;const f=new TextDecoder("utf8").decode(new Uint8Array(await(await m.getFile()).arrayBuffer()));K=new C.$HGb(f,Y,K)}))}const te=b.Promises.withAsyncBody(async h=>{const m=[],f=[],R=[],E=new Set;for await(const P of q.entries())R.push(P),E.add(P[0]);for(const[P,W]of R){if(g.isCancellationRequested)break;const w=Y+P;if(K&&!K.isPathIncludedInTraversal(w,W.kind==="directory"))continue;const l=t=>E.has(t);Z(W)&&!F(w,P,l)?f.push(_(W,w+"/",K)):ne(W)&&H(w,P,l)&&m.push(N(W,w))}h([...await Promise.all(f),...m])});return{type:"dir",name:q.name,entries:te}},ee=async(q,Y)=>{g.isCancellationRequested||await Promise.all((await q.entries).sort((K,te)=>-(K.type==="dir"?0:1)+(te.type==="dir"?0:1)).map(async K=>K.type==="dir"?ee(K,Y):Y(K)))},re=await s("process",()=>_(V,"/"));await s("resolve",()=>ee(re,r))}}e.LocalFileSearchSimpleWorker=n;function a(T){return(0,B.$wd)(T.pattern,!!T.isRegExp,{wholeWord:T.isWordMatch,global:!0,matchCase:T.isCaseSensitive,multiline:!0,unicode:!0})}function $(T){return{...T,folder:j.URI.revive(T.folder)}}function o(T){return{...T,extraFileResources:T.extraFileResources?.map(V=>j.URI.revive(V)),folderQueries:T.folderQueries.map(V=>$(V))}}function U(T,V){return!!(T.excludePattern&&A.$_i(T.excludePattern,V))}function p(T,V,O){return T.excludePattern&&A.$_i(T.excludePattern,V)?!1:T.includePattern||T.usingSearchPaths?T.includePattern&&A.$_i(T.includePattern,V)?!0:T.usingSearchPaths?!!T.folderQueries&&T.folderQueries.some(G=>{const X=G.folder,r=j.URI.file(V);if(O.isEqualOrParent(r,X)){const g=M.$cc(X.path,r.path);return!G.includePattern||!!A.$_i(G.includePattern,g)}else return!1}):!1:!0}})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/1afcd2c22a9d0310393da8b4ffb4eeba3dfdbdc6/core/vs/workbench/services/search/worker/localFileSearch.js.map

{"version":3,"sources":["fake","file:///Users/carey/Documents/Work/Github/vscode/src/vs/code/browser/workbench/workbench.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AAFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;;;gGAGgG;;;;IAoBhG,MAAM,iCAAiC;iBACd,MAAC,GAAa,kBAAb,AAA+B,CAAC;QAMzD;YAFA,SAAI,GAA0C,WAAW,CAAC;YAGzD,IAAI,eAAiF,CAAC;YACtF,MAAM,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAAC,+BAA+B,CAAC,CAAC;YACpF,MAAM,2BAA2B,GAAG,kBAAkB,CAAC,CAAC,CAAC,kBAAkB,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YACtH,IAAI,2BAA2B,EAAE;gBAChC,IAAI;oBACH,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;iBAC1D;gBAAC,OAAO,KAAK,EAAE,EAAE,wCAAwC,EAAE;aAC5D;YAED,IAAI,eAAe,EAAE;gBACpB,sBAAsB;gBACtB,IAAI,CAAC,GAAG,CAAC,GAAG,iBAAO,CAAC,WAAW,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC;gBAEjF,uBAAuB;gBACvB,IAAI,eAAe,CAAC,UAAU,KAAK,QAAQ,EAAE;oBAC5C,OAAO,CAAC,KAAK,CAAC,6BAA6B,eAAe,CAAC,UAAU,sBAAsB,CAAC,CAAC;oBAC7F,OAAO;iBACP;gBACD,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,WAAW,EAAE,8BAA8B,EAAE,GAAG,EAAE,aAAa,EAAE,CAAC,CAAC;gBACxG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;oBAC1E,EAAE,EAAE,eAAgB,CAAC,EAAE;oBACvB,MAAM;oBACN,WAAW,EAAE,eAAgB,CAAC,WAAW;iBACzC,CAAC,CAAC,CAAC,CAAC,CAAC;aACN;QACF,CAAC;QAED,GAAG,CAAC,GAAW;YACd,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAO,GAAG,CAAC,CAAC,CAAC;QAC3C,CAAC;QACD,GAAG,CAAC,GAAW,EAAE,KAAa;YAC7B,IAAI,CAAC,CAAC,CAAO,GAAG,CAAC,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,CAAC,EAAK,CAAC;YAEZ,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QACD,KAAK,CAAC,MAAM,CAAC,GAAW;YACvB,OAAO,IAAI,CAAC,CAAC,CAAO,GAAG,CAAC,CAAC;YAEzB,IAAI,CAAC,CAAC,EAAK,CAAC;YAEZ,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAED,IAAY,CAAC;YACZ,IAAI,CAAC,IAAI,CAAC,CAAC,EAAS;gBACnB,IAAI;oBACH,MAAM,qBAAqB,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,iCAAiC,CAAC,CAAC,CAAW,CAAC;oBACzG,IAAI,qBAAqB,EAAE;wBAC1B,IAAI,CAAC,CAAC,GAAU,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;qBAClD;iBACD;gBAAC,OAAO,KAAK,EAAE;oBACf,SAAS;iBACT;gBAED,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,YAAmB,MAAM,CAAC,EAAE;oBACvC,IAAI,CAAC,CAAC,GAAU,EAAE,CAAC;iBACnB;aACD;YAED,OAAO,IAAI,CAAC,CAAC,CAAQ;QACtB,CAAC;QAEO,CAAC;YACR,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,iCAAiC,CAAC,CAAC,EAAY,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAO,CAAC,CAAC;QAC1G,CAAC;;IAGF,MAAM,+BAAgC,SAAQ,eAAG;iBAEjC,MAAC,GAAY,CAAZ,AAAa,CAAC;iBAEf,MAAC,GAAwE;YACvF,QAAQ;YACR,WAAW;YACX,MAAM;YACN,OAAO;YACP,UAAU;SALK,AAMf,CAAC;QAUF,YAA6B,CAAsB;YAClD,KAAK,EAAE,CAAC;YADoB,MAAC,GAAD,CAAC,CAAqB;YARlC,MAAC,GAAa,IAAI,CAAC,CAAC,CAAS,IAAI,WAAG,EAAW,CAAC,CAAC;YACzD,eAAU,GAAG,IAAI,CAAC,CAAC,CAAW,KAAK,CAAC;YAErC,MAAC,GAAkB,IAAI,GAAG,EAAU,CAAC;YACrC,MAAC,GAAiB,IAAI,CAAC,GAAG,EAAE,CAAC;YAC7B,MAAC,GAA4C,SAAS,CAAC;QAK/D,CAAC;QAED,MAAM,CAAC,UAAkC,EAAE;YAC1C,MAAM,EAAE,GAAG,EAAE,+BAA+B,CAAC,CAAC,CAAU;YACxD,MAAM,WAAW,GAAa,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;YAErD,KAAK,MAAM,GAAG,IAAI,+BAA+B,CAAC,CAAC,EAAW;gBAC7D,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;gBAE3B,IAAI,KAAK,EAAE;oBACV,WAAW,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,kBAAkB,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;iBAC/D;aACD;YAED,8BAA8B;YAC9B,oDAAoD;YACpD,iJAAiJ;YACjJ,IAAI,CAAC,CAAC,OAAO,CAAC,SAAS,KAAK,8BAA8B,IAAI,OAAO,CAAC,IAAI,KAAK,QAAQ,CAAC,EAAE;gBACzF,MAAM,GAAG,GAAG,4BAA4B,EAAE,GAAG,CAAC;gBAC9C,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAEpC,IAAI,CAAC,CAAC,CAAgB,GAAG,CAAC,EAAE,CAAC,CAAC;gBAC9B,IAAI,CAAC,CAAC,EAAe,CAAC;aACtB;YAED,OAAO,SAAG,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,EAAe,KAAK,EAAE,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC1G,CAAC;QAEO,CAAC;YACR,IAAI,IAAI,CAAC,CAAC,EAAkC;gBAC3C,OAAO;aACP;YAED,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,EAAwB,CAAC;YAChD,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;YACvC,IAAI,CAAC,CAAC,GAAmC,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,EAAE,CAAC,EAAE,CAAC;QACvG,CAAC;QAEO,CAAC;YACR,IAAI,CAAC,CAAC,EAAkC,OAAO,EAAE,CAAC;YAClD,IAAI,CAAC,CAAC,GAAmC,SAAS,CAAC;QACpD,CAAC;QAED,sDAAsD;QACtD,oDAAoD;QAC5C,KAAK,CAAC,CAAC;YACd,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAe;YAEnD,IAAI,QAAQ,GAAG,IAAI,EAAE;gBACpB,IAAI,CAAC,CAAC,EAAe,CAAC;aACtB;iBAAM,IAAI,IAAI,CAAC,CAAC,KAAyB,SAAS,EAAE;gBACpD,IAAI,CAAC,CAAC,GAAuB,UAAU,CAAC,GAAG,EAAE;oBAC5C,IAAI,CAAC,CAAC,GAAuB,SAAS,CAAC;oBACvC,IAAI,CAAC,CAAC,EAAe,CAAC;gBACvB,CAAC,EAAE,IAAI,GAAG,QAAQ,CAAC,CAAC;aACpB;QACF,CAAC;QAEO,CAAC;YACR,IAAI,gBAAyC,CAAC;YAE9C,KAAK,MAAM,EAAE,IAAI,IAAI,CAAC,CAAC,EAAiB;gBACvC,MAAM,GAAG,GAAG,4BAA4B,EAAE,GAAG,CAAC;gBAC9C,MAAM,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAEhD,IAAI,MAAM,KAAK,IAAI,EAAE;oBACpB,IAAI;wBACH,IAAI,CAAC,CAAC,CAAW,IAAI,CAAC,SAAG,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;qBACtD;oBAAC,OAAO,KAAK,EAAE;wBACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;qBACrB;oBAED,gBAAgB,GAAG,gBAAgB,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAgB,CAAC;oBACtE,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;oBAC5B,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;iBACpC;aACD;YAED,IAAI,gBAAgB,EAAE;gBACrB,IAAI,CAAC,CAAC,GAAkB,gBAAgB,CAAC;gBAEzC,IAAI,IAAI,CAAC,CAAC,CAAgB,IAAI,KAAK,CAAC,EAAE;oBACrC,IAAI,CAAC,CAAC,EAAc,CAAC;iBACrB;aACD;YAED,IAAI,CAAC,CAAC,GAAiB,IAAI,CAAC,GAAG,EAAE,CAAC;QACnC,CAAC;;IAGF,MAAM,iBAAiB;iBAEP,MAAC,GAA0B,IAA1B,AAA8B,CAAC;iBAChC,MAAC,GAAoB,QAApB,AAA4B,CAAC;iBAC9B,MAAC,GAAuB,WAAvB,AAAkC,CAAC;iBAEpC,MAAC,GAAqB,SAArB,AAA8B,CAAC;QAE/C,MAAM,CAAC,MAAM,CAAC,MAAmG;YAChH,IAAI,cAAc,GAAG,KAAK,CAAC;YAC3B,IAAI,SAAqB,CAAC;YAC1B,IAAI,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAElC,MAAM,KAAK,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC;YAC3D,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE;gBAC5B,QAAQ,GAAG,EAAE;oBAEZ,SAAS;oBACT,KAAK,iBAAiB,CAAC,CAAC;wBACvB,IAAI,MAAM,CAAC,eAAe,IAAI,KAAK,CAAC,UAAU,CAAC,UAAG,CAAG,GAAG,CAAC,EAAE;4BAC1D,gDAAgD;4BAChD,kDAAkD;4BAClD,iDAAiD;4BACjD,SAAS,GAAG,EAAE,SAAS,EAAE,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,iBAAO,CAAC,YAAY,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC;yBACtH;6BAAM;4BACN,SAAS,GAAG,EAAE,SAAS,EAAE,SAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC;yBAC5C;wBACD,cAAc,GAAG,IAAI,CAAC;wBACtB,MAAM;oBAEP,YAAY;oBACZ,KAAK,iBAAiB,CAAC,CAAC;wBACvB,IAAI,MAAM,CAAC,eAAe,IAAI,KAAK,CAAC,UAAU,CAAC,UAAG,CAAG,GAAG,CAAC,EAAE;4BAC1D,gDAAgD;4BAChD,kDAAkD;4BAClD,iDAAiD;4BACjD,SAAS,GAAG,EAAE,YAAY,EAAE,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,iBAAO,CAAC,YAAY,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC;yBACzH;6BAAM;4BACN,SAAS,GAAG,EAAE,YAAY,EAAE,SAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC;yBAC/C;wBACD,cAAc,GAAG,IAAI,CAAC;wBACtB,MAAM;oBAEP,QAAQ;oBACR,KAAK,iBAAiB,CAAC,CAAC;wBACvB,SAAS,GAAG,SAAS,CAAC;wBACtB,cAAc,GAAG,IAAI,CAAC;wBACtB,MAAM;oBAEP,UAAU;oBACV,KAAK,iBAAiB,CAAC,CAAC;wBACvB,IAAI;4BACH,OAAO,GAAG,IAAA,iBAAG,EAAG,KAAK,CAAC,CAAC,CAAC,mDAAmD;yBAC3E;wBAAC,OAAO,KAAK,EAAE;4BACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,wBAAwB;yBAC9C;wBACD,MAAM;iBACP;YACF,CAAC,CAAC,CAAC;YAEH,gEAAgE;YAChE,wBAAwB;YACxB,IAAI,CAAC,cAAc,EAAE;gBACpB,IAAI,MAAM,CAAC,SAAS,EAAE;oBACrB,SAAS,GAAG,EAAE,SAAS,EAAE,SAAG,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC;iBACxD;qBAAM,IAAI,MAAM,CAAC,YAAY,EAAE;oBAC/B,SAAS,GAAG,EAAE,YAAY,EAAE,SAAG,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC;iBAC9D;aACD;YAED,OAAO,IAAI,iBAAiB,CAAC,SAAS,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;QAC1D,CAAC;QAID,YACU,SAAqB,EACrB,OAAe,EACP,CAAqC;YAF7C,cAAS,GAAT,SAAS,CAAY;YACrB,YAAO,GAAP,OAAO,CAAQ;YACP,MAAC,GAAD,CAAC,CAAoC;YAL9C,YAAO,GAAG,IAAI,CAAC;QAOxB,CAAC;QAED,KAAK,CAAC,IAAI,CAAC,SAAqB,EAAE,OAA+C;YAChF,IAAI,OAAO,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAM,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE;gBACjF,OAAO,IAAI,CAAC,CAAC,sFAAsF;aACnG;YAED,MAAM,UAAU,GAAG,IAAI,CAAC,CAAC,CAAe,SAAS,EAAE,OAAO,CAAC,CAAC;YAC5D,IAAI,UAAU,EAAE;gBACf,IAAI,OAAO,EAAE,KAAK,EAAE;oBACnB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,UAAU,CAAC;oBAClC,OAAO,IAAI,CAAC;iBACZ;qBAAM;oBACN,IAAI,MAAM,CAAC;oBACX,IAAI,IAAA,aAAG,GAAW,EAAE;wBACnB,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC,CAAC,+CAA+C;qBACzG;yBAAM;wBACN,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;qBACjC;oBAED,OAAO,CAAC,CAAC,MAAM,CAAC;iBAChB;aACD;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QAEO,CAAC,CAAe,SAAqB,EAAE,OAA+C;YAE7F,QAAQ;YACR,IAAI,UAAU,GAAuB,SAAS,CAAC;YAC/C,IAAI,CAAC,SAAS,EAAE;gBACf,UAAU,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,QAAQ,IAAI,iBAAiB,CAAC,CAAC,OAA8B,CAAC;aAC3H;YAED,SAAS;iBACJ,IAAI,IAAA,YAAG,EAAY,SAAS,CAAC,EAAE;gBACnC,MAAM,gBAAgB,GAAG,IAAI,CAAC,CAAC,CAAmB,SAAS,CAAC,SAAS,CAAC,CAAC;gBACvE,UAAU,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,QAAQ,IAAI,iBAAiB,CAAC,CAAC,IAAqB,gBAAgB,EAAE,CAAC;aACpI;YAED,YAAY;iBACP,IAAI,IAAA,YAAG,EAAe,SAAS,CAAC,EAAE;gBACtC,MAAM,mBAAmB,GAAG,IAAI,CAAC,CAAC,CAAmB,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC7E,UAAU,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,QAAQ,IAAI,iBAAiB,CAAC,CAAC,IAAwB,mBAAmB,EAAE,CAAC;aAC1I;YAED,wBAAwB;YACxB,IAAI,OAAO,EAAE,OAAO,EAAE;gBACrB,UAAU,IAAI,IAAI,iBAAiB,CAAC,CAAC,IAAsB,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC;aACjH;YAED,OAAO,UAAU,CAAC;QACnB,CAAC;QAEO,CAAC,CAAmB,GAAQ;YACnC,IAAI,IAAI,CAAC,CAAC,CAAM,eAAe,IAAI,GAAG,CAAC,MAAM,KAAK,iBAAO,CAAC,YAAY,EAAE;gBAEvE,iDAAiD;gBACjD,kDAAkD;gBAClD,8CAA8C;gBAC9C,iDAAiD;gBACjD,iDAAiD;gBACjD,sBAAsB;gBAEtB,OAAO,kBAAkB,CAAC,GAAG,UAAG,CAAG,GAAG,GAAG,IAAA,aAAG,EAAG,GAAG,CAAC,IAAI,EAAE,UAAG,CAAG,GAAG,CAAC,EAAE,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;aAC9F;YAED,OAAO,kBAAkB,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/C,CAAC;QAEO,CAAC,CAAM,UAAsB,EAAE,UAAsB;YAC5D,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,EAAE;gBAC/B,OAAO,UAAU,KAAK,UAAU,CAAC,CAAC,aAAa;aAC/C;YAED,IAAI,IAAA,YAAG,EAAY,UAAU,CAAC,IAAI,IAAA,YAAG,EAAY,UAAU,CAAC,EAAE;gBAC7D,OAAO,IAAA,eAAG,EAAK,UAAU,CAAC,SAAS,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,iBAAiB;aAC7E;YAED,IAAI,IAAA,YAAG,EAAe,UAAU,CAAC,IAAI,IAAA,YAAG,EAAe,UAAU,CAAC,EAAE;gBACnE,OAAO,IAAA,eAAG,EAAK,UAAU,CAAC,YAAY,EAAE,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,iBAAiB;aACnF;YAED,OAAO,KAAK,CAAC;QACd,CAAC;QAED,SAAS;YACR,IAAI,IAAI,CAAC,SAAS,EAAE;gBACnB,IAAI,IAAA,YAAG,EAAY,IAAI,CAAC,SAAS,CAAC,EAAE;oBACnC,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,KAAK,iBAAO,CAAC,YAAY,CAAC;iBAChE;gBAED,IAAI,IAAA,YAAG,EAAe,IAAI,CAAC,SAAS,CAAC,EAAE;oBACtC,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,KAAK,iBAAO,CAAC,YAAY,CAAC;iBACnE;aACD;YAED,OAAO,IAAI,CAAC;QACb,CAAC;;IAGF,CAAC;QAEA,kCAAkC;QAClC,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,oCAAoC,CAAC,CAAC;QACpF,MAAM,sBAAsB,GAAG,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACvG,IAAI,CAAC,aAAa,IAAI,CAAC,sBAAsB,EAAE;YAC9C,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;SACrD;QACD,MAAM,MAAM,GAAuH,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;QAEtK,mBAAmB;QACnB,IAAA,2BAAM,EAAC,QAAQ,CAAC,IAAI,EAAE;YACrB,GAAG,MAAM;YACT,eAAe,EAAE,MAAM,CAAC,eAAe,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,iBAAO,CAAC,SAAS,MAAM,EAAE;YACtG,mBAAmB,EAAE,MAAM,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,MAAM,CAAC,mBAAmB,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,SAAS;YAC9G,iBAAiB,EAAE,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC;YACnD,mBAAmB,EAAE,IAAI,+BAA+B,CAAC,MAAM,CAAC,aAAa,CAAC;YAC9E,qBAAqB,EAAE,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS,CAAC,iEAAiE,CAAC,CAAC,CAAC,IAAI,iCAAiC,EAAE;SACrK,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE,CAAC;;;AD3ZL","file":"workbench.js","sourcesContent":["}).call(this);","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isStandalone } from 'vs/base/browser/browser';\nimport { parse } from 'vs/base/common/marshalling';\nimport { Emitter } from 'vs/base/common/event';\nimport { Disposable, IDisposable } from 'vs/base/common/lifecycle';\nimport { Schemas } from 'vs/base/common/network';\nimport { isEqual } from 'vs/base/common/resources';\nimport { URI, UriComponents } from 'vs/base/common/uri';\nimport product from 'vs/platform/product/common/product';\nimport { isFolderToOpen, isWorkspaceToOpen } from 'vs/platform/window/common/window';\nimport { create } from 'vs/workbench/workbench.web.main';\nimport { posix } from 'vs/base/common/path';\nimport { ltrim } from 'vs/base/common/strings';\nimport type { IURLCallbackProvider } from 'vs/workbench/services/url/browser/urlService';\nimport type { IWorkbenchConstructionOptions } from 'vs/workbench/browser/web.api';\nimport type { IWorkspace, IWorkspaceProvider } from 'vs/workbench/services/host/browser/browserHostService';\nimport { ISecretStorageProvider } from 'vs/platform/secrets/common/secrets';\nimport { AuthenticationSessionInfo } from 'vs/workbench/services/authentication/browser/authenticationService';\n\nclass LocalStorageSecretStorageProvider implements ISecretStorageProvider {\n\tprivate static readonly STORAGE_KEY = 'secrets.provider';\n\n\tprivate _secrets: Record<string, string> | undefined;\n\n\ttype: 'in-memory' | 'persisted' | 'unknown' = 'persisted';\n\n\tconstructor() {\n\t\tlet authSessionInfo: (AuthenticationSessionInfo & { scopes: string[][] }) | undefined;\n\t\tconst authSessionElement = document.getElementById('vscode-workbench-auth-session');\n\t\tconst authSessionElementAttribute = authSessionElement ? authSessionElement.getAttribute('data-settings') : undefined;\n\t\tif (authSessionElementAttribute) {\n\t\t\ttry {\n\t\t\t\tauthSessionInfo = JSON.parse(authSessionElementAttribute);\n\t\t\t} catch (error) { /* Invalid session is passed. Ignore. */ }\n\t\t}\n\n\t\tif (authSessionInfo) {\n\t\t\t// Settings Sync Entry\n\t\t\tthis.set(`${product.urlProtocol}.loginAccount`, JSON.stringify(authSessionInfo));\n\n\t\t\t// Auth extension Entry\n\t\t\tif (authSessionInfo.providerId !== 'github') {\n\t\t\t\tconsole.error(`Unexpected auth provider: ${authSessionInfo.providerId}. Expected 'github'.`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst authAccount = JSON.stringify({ extensionId: 'vscode.github-authentication', key: 'github.auth' });\n\t\t\tthis.set(authAccount, JSON.stringify(authSessionInfo.scopes.map(scopes => ({\n\t\t\t\tid: authSessionInfo!.id,\n\t\t\t\tscopes,\n\t\t\t\taccessToken: authSessionInfo!.accessToken\n\t\t\t}))));\n\t\t}\n\t}\n\n\tget(key: string): Promise<string | undefined> {\n\t\treturn Promise.resolve(this.secrets[key]);\n\t}\n\tset(key: string, value: string): Promise<void> {\n\t\tthis.secrets[key] = value;\n\t\tthis.save();\n\n\t\treturn Promise.resolve();\n\t}\n\tasync delete(key: string): Promise<void> {\n\t\tdelete this.secrets[key];\n\n\t\tthis.save();\n\n\t\treturn Promise.resolve();\n\t}\n\n\tprivate get secrets(): Record<string, string> {\n\t\tif (!this._secrets) {\n\t\t\ttry {\n\t\t\t\tconst serializedCredentials = window.localStorage.getItem(LocalStorageSecretStorageProvider.STORAGE_KEY);\n\t\t\t\tif (serializedCredentials) {\n\t\t\t\t\tthis._secrets = JSON.parse(serializedCredentials);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\t// ignore\n\t\t\t}\n\n\t\t\tif (!(this._secrets instanceof Object)) {\n\t\t\t\tthis._secrets = {};\n\t\t\t}\n\t\t}\n\n\t\treturn this._secrets;\n\t}\n\n\tprivate save(): void {\n\t\twindow.localStorage.setItem(LocalStorageSecretStorageProvider.STORAGE_KEY, JSON.stringify(this.secrets));\n\t}\n}\n\nclass LocalStorageURLCallbackProvider extends Disposable implements IURLCallbackProvider {\n\n\tprivate static REQUEST_ID = 0;\n\n\tprivate static QUERY_KEYS: ('scheme' | 'authority' | 'path' | 'query' | 'fragment')[] = [\n\t\t'scheme',\n\t\t'authority',\n\t\t'path',\n\t\t'query',\n\t\t'fragment'\n\t];\n\n\tprivate readonly _onCallback = this._register(new Emitter<URI>());\n\treadonly onCallback = this._onCallback.event;\n\n\tprivate pendingCallbacks = new Set<number>();\n\tprivate lastTimeChecked = Date.now();\n\tprivate checkCallbacksTimeout: unknown | undefined = undefined;\n\tprivate onDidChangeLocalStorageDisposable: IDisposable | undefined;\n\n\tconstructor(private readonly _callbackRoute: string) {\n\t\tsuper();\n\t}\n\n\tcreate(options: Partial<UriComponents> = {}): URI {\n\t\tconst id = ++LocalStorageURLCallbackProvider.REQUEST_ID;\n\t\tconst queryParams: string[] = [`vscode-reqid=${id}`];\n\n\t\tfor (const key of LocalStorageURLCallbackProvider.QUERY_KEYS) {\n\t\t\tconst value = options[key];\n\n\t\t\tif (value) {\n\t\t\t\tqueryParams.push(`vscode-${key}=${encodeURIComponent(value)}`);\n\t\t\t}\n\t\t}\n\n\t\t// TODO@joao remove eventually\n\t\t// https://github.com/microsoft/vscode-dev/issues/62\n\t\t// https://github.com/microsoft/vscode/blob/159479eb5ae451a66b5dac3c12d564f32f454796/extensions/github-authentication/src/githubServer.ts#L50-L50\n\t\tif (!(options.authority === 'vscode.github-authentication' && options.path === '/dummy')) {\n\t\t\tconst key = `vscode-web.url-callbacks[${id}]`;\n\t\t\twindow.localStorage.removeItem(key);\n\n\t\t\tthis.pendingCallbacks.add(id);\n\t\t\tthis.startListening();\n\t\t}\n\n\t\treturn URI.parse(window.location.href).with({ path: this._callbackRoute, query: queryParams.join('&') });\n\t}\n\n\tprivate startListening(): void {\n\t\tif (this.onDidChangeLocalStorageDisposable) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst fn = () => this.onDidChangeLocalStorage();\n\t\twindow.addEventListener('storage', fn);\n\t\tthis.onDidChangeLocalStorageDisposable = { dispose: () => window.removeEventListener('storage', fn) };\n\t}\n\n\tprivate stopListening(): void {\n\t\tthis.onDidChangeLocalStorageDisposable?.dispose();\n\t\tthis.onDidChangeLocalStorageDisposable = undefined;\n\t}\n\n\t// this fires every time local storage changes, but we\n\t// don't want to check more often than once a second\n\tprivate async onDidChangeLocalStorage(): Promise<void> {\n\t\tconst ellapsed = Date.now() - this.lastTimeChecked;\n\n\t\tif (ellapsed > 1000) {\n\t\t\tthis.checkCallbacks();\n\t\t} else if (this.checkCallbacksTimeout === undefined) {\n\t\t\tthis.checkCallbacksTimeout = setTimeout(() => {\n\t\t\t\tthis.checkCallbacksTimeout = undefined;\n\t\t\t\tthis.checkCallbacks();\n\t\t\t}, 1000 - ellapsed);\n\t\t}\n\t}\n\n\tprivate checkCallbacks(): void {\n\t\tlet pendingCallbacks: Set<number> | undefined;\n\n\t\tfor (const id of this.pendingCallbacks) {\n\t\t\tconst key = `vscode-web.url-callbacks[${id}]`;\n\t\t\tconst result = window.localStorage.getItem(key);\n\n\t\t\tif (result !== null) {\n\t\t\t\ttry {\n\t\t\t\t\tthis._onCallback.fire(URI.revive(JSON.parse(result)));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t}\n\n\t\t\t\tpendingCallbacks = pendingCallbacks ?? new Set(this.pendingCallbacks);\n\t\t\t\tpendingCallbacks.delete(id);\n\t\t\t\twindow.localStorage.removeItem(key);\n\t\t\t}\n\t\t}\n\n\t\tif (pendingCallbacks) {\n\t\t\tthis.pendingCallbacks = pendingCallbacks;\n\n\t\t\tif (this.pendingCallbacks.size === 0) {\n\t\t\t\tthis.stopListening();\n\t\t\t}\n\t\t}\n\n\t\tthis.lastTimeChecked = Date.now();\n\t}\n}\n\nclass WorkspaceProvider implements IWorkspaceProvider {\n\n\tprivate static QUERY_PARAM_EMPTY_WINDOW = 'ew';\n\tprivate static QUERY_PARAM_FOLDER = 'folder';\n\tprivate static QUERY_PARAM_WORKSPACE = 'workspace';\n\n\tprivate static QUERY_PARAM_PAYLOAD = 'payload';\n\n\tstatic create(config: IWorkbenchConstructionOptions & { folderUri?: UriComponents; workspaceUri?: UriComponents }) {\n\t\tlet foundWorkspace = false;\n\t\tlet workspace: IWorkspace;\n\t\tlet payload = Object.create(null);\n\n\t\tconst query = new URL(document.location.href).searchParams;\n\t\tquery.forEach((value, key) => {\n\t\t\tswitch (key) {\n\n\t\t\t\t// Folder\n\t\t\t\tcase WorkspaceProvider.QUERY_PARAM_FOLDER:\n\t\t\t\t\tif (config.remoteAuthority && value.startsWith(posix.sep)) {\n\t\t\t\t\t\t// when connected to a remote and having a value\n\t\t\t\t\t\t// that is a path (begins with a `/`), assume this\n\t\t\t\t\t\t// is a vscode-remote resource as simplified URL.\n\t\t\t\t\t\tworkspace = { folderUri: URI.from({ scheme: Schemas.vscodeRemote, path: value, authority: config.remoteAuthority }) };\n\t\t\t\t\t} else {\n\t\t\t\t\t\tworkspace = { folderUri: URI.parse(value) };\n\t\t\t\t\t}\n\t\t\t\t\tfoundWorkspace = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t// Workspace\n\t\t\t\tcase WorkspaceProvider.QUERY_PARAM_WORKSPACE:\n\t\t\t\t\tif (config.remoteAuthority && value.startsWith(posix.sep)) {\n\t\t\t\t\t\t// when connected to a remote and having a value\n\t\t\t\t\t\t// that is a path (begins with a `/`), assume this\n\t\t\t\t\t\t// is a vscode-remote resource as simplified URL.\n\t\t\t\t\t\tworkspace = { workspaceUri: URI.from({ scheme: Schemas.vscodeRemote, path: value, authority: config.remoteAuthority }) };\n\t\t\t\t\t} else {\n\t\t\t\t\t\tworkspace = { workspaceUri: URI.parse(value) };\n\t\t\t\t\t}\n\t\t\t\t\tfoundWorkspace = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t// Empty\n\t\t\t\tcase WorkspaceProvider.QUERY_PARAM_EMPTY_WINDOW:\n\t\t\t\t\tworkspace = undefined;\n\t\t\t\t\tfoundWorkspace = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t// Payload\n\t\t\t\tcase WorkspaceProvider.QUERY_PARAM_PAYLOAD:\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpayload = parse(value); // use marshalling#parse() to revive potential URIs\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error(error); // possible invalid JSON\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\t// If no workspace is provided through the URL, check for config\n\t\t// attribute from server\n\t\tif (!foundWorkspace) {\n\t\t\tif (config.folderUri) {\n\t\t\t\tworkspace = { folderUri: URI.revive(config.folderUri) };\n\t\t\t} else if (config.workspaceUri) {\n\t\t\t\tworkspace = { workspaceUri: URI.revive(config.workspaceUri) };\n\t\t\t}\n\t\t}\n\n\t\treturn new WorkspaceProvider(workspace, payload, config);\n\t}\n\n\treadonly trusted = true;\n\n\tprivate constructor(\n\t\treadonly workspace: IWorkspace,\n\t\treadonly payload: object,\n\t\tprivate readonly config: IWorkbenchConstructionOptions\n\t) {\n\t}\n\n\tasync open(workspace: IWorkspace, options?: { reuse?: boolean; payload?: object }): Promise<boolean> {\n\t\tif (options?.reuse && !options.payload && this.isSame(this.workspace, workspace)) {\n\t\t\treturn true; // return early if workspace and environment is not changing and we are reusing window\n\t\t}\n\n\t\tconst targetHref = this.createTargetUrl(workspace, options);\n\t\tif (targetHref) {\n\t\t\tif (options?.reuse) {\n\t\t\t\twindow.location.href = targetHref;\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tlet result;\n\t\t\t\tif (isStandalone()) {\n\t\t\t\t\tresult = window.open(targetHref, '_blank', 'toolbar=no'); // ensures to open another 'standalone' window!\n\t\t\t\t} else {\n\t\t\t\t\tresult = window.open(targetHref);\n\t\t\t\t}\n\n\t\t\t\treturn !!result;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate createTargetUrl(workspace: IWorkspace, options?: { reuse?: boolean; payload?: object }): string | undefined {\n\n\t\t// Empty\n\t\tlet targetHref: string | undefined = undefined;\n\t\tif (!workspace) {\n\t\t\ttargetHref = `${document.location.origin}${document.location.pathname}?${WorkspaceProvider.QUERY_PARAM_EMPTY_WINDOW}=true`;\n\t\t}\n\n\t\t// Folder\n\t\telse if (isFolderToOpen(workspace)) {\n\t\t\tconst queryParamFolder = this.encodeWorkspacePath(workspace.folderUri);\n\t\t\ttargetHref = `${document.location.origin}${document.location.pathname}?${WorkspaceProvider.QUERY_PARAM_FOLDER}=${queryParamFolder}`;\n\t\t}\n\n\t\t// Workspace\n\t\telse if (isWorkspaceToOpen(workspace)) {\n\t\t\tconst queryParamWorkspace = this.encodeWorkspacePath(workspace.workspaceUri);\n\t\t\ttargetHref = `${document.location.origin}${document.location.pathname}?${WorkspaceProvider.QUERY_PARAM_WORKSPACE}=${queryParamWorkspace}`;\n\t\t}\n\n\t\t// Append payload if any\n\t\tif (options?.payload) {\n\t\t\ttargetHref += `&${WorkspaceProvider.QUERY_PARAM_PAYLOAD}=${encodeURIComponent(JSON.stringify(options.payload))}`;\n\t\t}\n\n\t\treturn targetHref;\n\t}\n\n\tprivate encodeWorkspacePath(uri: URI): string {\n\t\tif (this.config.remoteAuthority && uri.scheme === Schemas.vscodeRemote) {\n\n\t\t\t// when connected to a remote and having a folder\n\t\t\t// or workspace for that remote, only use the path\n\t\t\t// as query value to form shorter, nicer URLs.\n\t\t\t// however, we still need to `encodeURIComponent`\n\t\t\t// to ensure to preserve special characters, such\n\t\t\t// as `+` in the path.\n\n\t\t\treturn encodeURIComponent(`${posix.sep}${ltrim(uri.path, posix.sep)}`).replaceAll('%2F', '/');\n\t\t}\n\n\t\treturn encodeURIComponent(uri.toString(true));\n\t}\n\n\tprivate isSame(workspaceA: IWorkspace, workspaceB: IWorkspace): boolean {\n\t\tif (!workspaceA || !workspaceB) {\n\t\t\treturn workspaceA === workspaceB; // both empty\n\t\t}\n\n\t\tif (isFolderToOpen(workspaceA) && isFolderToOpen(workspaceB)) {\n\t\t\treturn isEqual(workspaceA.folderUri, workspaceB.folderUri); // same workspace\n\t\t}\n\n\t\tif (isWorkspaceToOpen(workspaceA) && isWorkspaceToOpen(workspaceB)) {\n\t\t\treturn isEqual(workspaceA.workspaceUri, workspaceB.workspaceUri); // same workspace\n\t\t}\n\n\t\treturn false;\n\t}\n\n\thasRemote(): boolean {\n\t\tif (this.workspace) {\n\t\t\tif (isFolderToOpen(this.workspace)) {\n\t\t\t\treturn this.workspace.folderUri.scheme === Schemas.vscodeRemote;\n\t\t\t}\n\n\t\t\tif (isWorkspaceToOpen(this.workspace)) {\n\t\t\t\treturn this.workspace.workspaceUri.scheme === Schemas.vscodeRemote;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n}\n\n(function () {\n\n\t// Find config by checking for DOM\n\tconst configElement = document.getElementById('vscode-workbench-web-configuration');\n\tconst configElementAttribute = configElement ? configElement.getAttribute('data-settings') : undefined;\n\tif (!configElement || !configElementAttribute) {\n\t\tthrow new Error('Missing web configuration element');\n\t}\n\tconst config: IWorkbenchConstructionOptions & { folderUri?: UriComponents; workspaceUri?: UriComponents; callbackRoute: string } = JSON.parse(configElementAttribute);\n\n\t// Create workbench\n\tcreate(document.body, {\n\t\t...config,\n\t\twindowIndicator: config.windowIndicator ?? { label: '$(remote)', tooltip: `${product.nameShort} Web` },\n\t\tsettingsSyncOptions: config.settingsSyncOptions ? { enabled: config.settingsSyncOptions.enabled, } : undefined,\n\t\tworkspaceProvider: WorkspaceProvider.create(config),\n\t\turlCallbackProvider: new LocalStorageURLCallbackProvider(config.callbackRoute),\n\t\tsecretStorageProvider: config.remoteAuthority ? undefined /* with a remote, we don't use a local secret storage provider */ : new LocalStorageSecretStorageProvider()\n\t});\n})();\n"]}